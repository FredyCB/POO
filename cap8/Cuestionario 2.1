IMPUESTO = 15 / 100


def calcular_total_ventas(productos):
    resultado = []
    for producto in productos:
        nombre = producto[0]
        cantidad = producto[1]
        precio_unitario = producto[2]
        cobrar_impuesto = producto[3]

        subtotal = cantidad * precio_unitario

        if cobrar_impuesto:
            subtotal = subtotal * (1 + IMPUESTO)

        resultado.append((nombre, subtotal))
    return resultado


# Prueba
ventas = [
    ("Arroz", 2, 30, False),
    ("Frijoles", 1, 74, False),
    ("Chocolate", 2, 300, True),
]

resultado = calcular_total_ventas(ventas)
print(resultado)

# Extra: verificar el calculo del isv
assert resultado[0][1] == 2*30
assert resultado[2][1] == 2*300*(1+IMPUESTO)
